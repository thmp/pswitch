/* (c) 2014 payworks GmbH */ 
!function(a){a.fn.pswitch=function(b){function c(a,b,c,d){var e=.3*a+.59*b+.11*c;return a=Math.floor(e*d+a*(1-d)),b=Math.floor(e*d+b*(1-d)),c=Math.floor(e*d+c*(1-d)),[a,b,c]}function d(a,b,c){return"rgb("+a+", "+b+", "+c+")"}function e(a,b){rgb1=c(30,87,153,b),rgb2=c(125,185,232,b),rgb1=d(rgb1[0],rgb1[1],rgb1[2]),rgb2=d(rgb2[0],rgb2[1],rgb2[2]),a.css("background",f(rgb1,rgb2))}function f(a,b){return"linear-gradient(to bottom, "+a+" 0%, "+b+" 100%)"}function g(a){pos=a.pageX-11,n=pos-q,1>=n&&(n=1),n>=29&&(n=29),ratio=n/28,e(p.parent(),ratio),p.css("left",n+"px")}function h(a){a.prop("checked",!0),e(a.parent().find(".pswitch-background"),0),a.parent().find(".pswitch-handle").css("left","1px")}function i(a){a.removeAttr("checked"),e(a.parent().find(".pswitch-background"),1),a.parent().find(".pswitch-handle").css("left","29px")}function j(a){a.attr("disabled","disabled"),a.parent().addClass("pswitch-disabled")}function k(a){a.removeAttr("disabled"),a.parent().removeClass("pswitch-disabled")}function l(a){a.prop("checked")?i(a):h(a)}function m(a){a.prop("checked")?h(a):i(a),a.is(":disabled")?j(a):k(a)}{var n,o,p,q;a.extend({},b)}return a(document).mousemove(function(a){o&&g(a)}),a(document).mouseup(function(b){o&&(checkbox=p.parent().parent().find("input[type=checkbox]"),b.pageX-11-q<14.5?h(checkbox):i(checkbox)),o=!1,a("body").css("user-select","")}),this.filter("input[type=checkbox]").each(function(){datachecked=a(this).attr("data-checked"),dataunchecked=a(this).attr("data-unchecked"),a(this).wrap("<div class='pswitch-wrapper'></div>").hide(),a(this).before("<div class='pswitch-on'>"+datachecked+"</div>").before("<div class='pswitch-background'><div class='pswitch-handle'></div></div>").before("<div class='pswitch-off'>"+dataunchecked+"</div>"),a(this).parent().find(".pswitch-on").click(function(){a(this).parent().find("input[type=checkbox]").is(":disabled")||h(a(this).parent().find("input[type=checkbox]"))}),a(this).parent().find(".pswitch-off").click(function(){a(this).parent().find("input[type=checkbox]").is(":disabled")||i(a(this).parent().find("input[type=checkbox]"))}),a(this).parent().find(".pswitch-handle").mousedown(function(b){a(this).parent().parent().find("input[type=checkbox]").is(":disabled")||(p=a(this),o=!0,q=a(this).parent().offset().left,a("body").css("user-select","none"),g(b))}),a(this).parent().find(".pswitch-background").click(function(b){a(this).parent().find("input[type=checkbox]").is(":disabled")||b.target==a(this)[0]&&l(a(this).parent().find("input[type=checkbox]"))}),a(this).on("check",function(){h(a(this))}),a(this).on("uncheck",function(){i(a(this))}),a(this).on("toggle",function(){l(a(this))}),a(this).on("enable",function(){k(a(this))}),a(this).on("disable",function(){j(a(this))}),m(a(this))})}}(jQuery);
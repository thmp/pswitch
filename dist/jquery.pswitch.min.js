/* (c) 2014 payworks GmbH */ 
!function(a){a.fn.pswitch=function(b){function c(a,b,c,d){var e=.3*a+.59*b+.11*c;return a=Math.floor(e*d+a*(1-d)),b=Math.floor(e*d+b*(1-d)),c=Math.floor(e*d+c*(1-d)),[a,b,c]}function d(a,b,c){return"rgb("+a+", "+b+", "+c+")"}function e(a,b){rgb1=c(s.r,s.g,s.b,b),rgb2=c(s.r2,s.g2,s.b2,b),rgb1=d(rgb1[0],rgb1[1],rgb1[2]),rgb2=d(rgb2[0],rgb2[1],rgb2[2]),s.flat?a.css("background",rgb1):a.css("background",f(rgb1,rgb2)),a.css("background-color",rgb1)}function f(a,b){return"linear-gradient(to bottom, "+a+" 0%, "+b+" 100%)"}function g(a){pos=a.pageX-11,n=pos-q,1>=n&&(n=1),n>=29&&(n=29),ratio=n/28,e(p.parent(),ratio),p.css("left",n+"px")}function h(a){a.prop("checked",!0).trigger("change"),e(a.parent().find(".pswitch-background"),0),a.parent().find(".pswitch-handle").css("left","1px")}function i(a){a.prop("checked",!1).trigger("change"),e(a.parent().find(".pswitch-background"),1),a.parent().find(".pswitch-handle").css("left","29px")}function j(a){a.attr("disabled","disabled"),a.parent().addClass("pswitch-disabled")}function k(a){a.removeAttr("disabled"),a.parent().removeClass("pswitch-disabled")}function l(a){a.prop("checked")?i(a):h(a)}function m(a){a.prop("checked")?h(a):i(a),a.is(":disabled")?j(a):k(a)}var n,o,p,q,r,s=a.extend({r:30,g:87,b:153,flat:!1},b);return s.r2=s.r>155?255:s.r+100,s.g2=s.g>155?255:s.g+100,s.b2=s.b>155?255:s.b+100,a(document).mousemove(function(a){o&&g(a)}),a(document).mouseup(function(b){o&&(p.css("transition",r),checkbox=p.parent().parent().find("input[type=checkbox]"),b.pageX-11-q<14.5?h(checkbox):i(checkbox)),o=!1,a("body").css("user-select","")}),this.filter("input[type=checkbox]").each(function(){a(this).parent().hasClass("pswitch-wrapper")||(datachecked=a(this).attr("data-checked"),dataunchecked=a(this).attr("data-unchecked"),a(this).wrap(s.flat?"<div class='pswitch-wrapper pswitch-flat'></div>":"<div class='pswitch-wrapper'></div>"),a(this).hide(),null!=datachecked&&a(this).before("<div class='pswitch-on'>"+datachecked+"</div>"),a(this).before("<div class='pswitch-background'><div class='pswitch-handle'></div></div>"),null!=dataunchecked&&a(this).before("<div class='pswitch-off'>"+dataunchecked+"</div>"),a(this).parent().find(".pswitch-on").click(function(){a(this).parent().find("input[type=checkbox]").is(":disabled")||h(a(this).parent().find("input[type=checkbox]"))}),a(this).parent().find(".pswitch-off").click(function(){a(this).parent().find("input[type=checkbox]").is(":disabled")||i(a(this).parent().find("input[type=checkbox]"))}),a(this).parent().find(".pswitch-handle").mousedown(function(b){a(this).parent().parent().find("input[type=checkbox]").is(":disabled")||(r=a(this).css("transition"),a(this).css("transition","none"),p=a(this),o=!0,q=a(this).parent().offset().left,a("body").css("user-select","none"),g(b))}),a(this).parent().find(".pswitch-background").click(function(b){a(this).parent().find("input[type=checkbox]").is(":disabled")||b.target==a(this)[0]&&l(a(this).parent().find("input[type=checkbox]"))}),a(this).on("check",function(){h(a(this))}),a(this).on("uncheck",function(){i(a(this))}),a(this).on("toggle",function(){l(a(this))}),a(this).on("enable",function(){k(a(this))}),a(this).on("disable",function(){j(a(this))}),m(a(this)))})}}(jQuery);